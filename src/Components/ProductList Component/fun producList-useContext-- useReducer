const ProductList = () => {
  const products = useProduct();
  const { changeHandler, incrementHandler, decrementHandler, deletHandler } =
    useProductAction();

  const renderProduct = () => {
    if (products.length !== 0) {
      return (
        <div className={style.pList}>
          {products.map((prod, index) => {
            return (
              <Product
                prd={prod}
                key={index}
                onDelete={() => deletHandler(prod.id)}
                onIncrement={() => incrementHandler(prod.id)}
                onDecrement={() => decrementHandler(prod.id)}
                changeInput={(e) => changeHandler(e, prod.id)}
              />
            );
          })}
        </div>
      );
    }
  };

  return (
    <div className={style.pList}>
      {!products.length && <div> goto Shopping </div>}
      {renderProduct()}
    </div>
  );
};

export default ProductList;
